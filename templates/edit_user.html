{% extends 'base.html' %}

{% block meta %}
<script>$(".alert").alert('close')</script>
{% endblock %}

{% block content %}
<h1>Изменить информацию о пользователе</h1>
<form action="" method="post">
    {{ form.hidden_tag() }}
    <p>
        {{ form.current_password.label }}<br>
        {{ form.current_password(class="form-control") }}<br>
        {% for error in form.current_password.errors %}
    <p class="alert alert-danger" role="alert">
        {{ error }}
    </p>
    {% endfor %}
    </p>
    {% if errors %}
    <div class="alert alert-danger" role="alert">
        Ошибка: {{errors}}
    </div>
    {% endif %}
    <p>
        {{ form.name.label }}<br>
        {{ form.name(class="form-control") }}<br>
        {% for error in form.name.errors %}
    <p class="alert alert-danger" role="alert">
        {{ error }}
    </p>
    {% endfor %}
    </p>
    <p>
        {{ form.email.label }}<br>
        {{ form.email(class="form-control") }}<br>
        {% for error in form.email.errors %}
    <p class="alert alert-danger" role="alert">
        {{ error }}
    </p>
    {% endfor %}
    </p>
    <p>
        {{ form.changed_password.label }}<br>
        {{ form.changed_password(class="form-control") }}<br>
        {% for error in form.changed_password.errors %}
    <p content="alert alert-danger" role="alert">
        {{ error }}
    </p>
    {% endfor %}
    </p>
    <p>
        {{ form.about.label }}<br>
        {{ form.about(class="form-control") }}<br>
        {% for error in form.changed_password.errors %}
    </p>
    <p content="alert alert-danger" role="alert">
        {{ error }}
    </p>
    {% endfor %}
    </p>
    <p>{{ form.favourite_books() }} {{ form.favourite_books.label }}</p>
    <p>{{ form.submit(type="submit", class="btn btn-primary") }}</p>
    <p><a href='../{{session["user_id"]}}'> <button type="button"
                class="btn btn-outline-secondary">Отменить</button></a></p>
</form>
{% endblock %}